!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("module")):"function"==typeof define&&define.amd?define(["exports","module"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["atir-jsonvalidator"]={},e.module)}(this,(function(e,r){"use strict";const t=new(r.createRequire("undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("index.min.js",document.baseURI).href)("ajv"))({code:{esm:!0},useDefaults:"empty",messages:!0,removeAdditional:!0,coerceTypes:!0,allErrors:!0,verbose:!0});function o(e){return n(t.getSchema(e))}function n(e){return function(r,{dataContext:t,i18nFunction:o}={}){let n=e(r,t),i=function(e,r){if(!e||!e.length)return{};let t={},o={};for(const n of e){let e=n.instancePath.split("/");e.shift(),"required"==n.keyword&&e.push(n.params.missingProperty);const i=e.join("."),u={keyword:n.keyword,params:n.params};o[i]?o[i].push(u):o[i]=[u],r&&(r(n),t[i]?t[i].push(n.message):t[i]=[n.message])}return{errorsStructured:o,errorsHumanized:t}}(e.errors,o);return{isValid:n,errors:e.errors,errorsStructured:i.errorsStructured,errorsHumanized:i.errorsHumanized,...e}}}e.compileSchema=function(e){return n(t.compile(e))},e.createValidator=function(e){if(void 0===e.$id)throw new Error("Schema must have $id");return t.addSchema(e),o(e.$id)},e.getValidator=o,Object.defineProperty(e,"__esModule",{value:!0})}));
