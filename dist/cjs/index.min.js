"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=new(require("module").createRequire("undefined"==typeof document?new(require("url").URL)("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.min.js",document.baseURI).href)("ajv"))({code:{esm:!0},useDefaults:"empty",messages:!0,removeAdditional:!0,coerceTypes:!0,allErrors:!0,verbose:!0});function r(r){return t(e.getSchema(r))}function t(e){return function(r,{dataContext:t,i18nFunction:o}={}){let n=e(r,t),s=function(e,r){if(!e||!e.length)return{};let t={},o={};for(const n of e){let e=n.instancePath.split("/");e.shift(),"required"==n.keyword&&e.push(n.params.missingProperty);const s=e.join("."),u={keyword:n.keyword,params:n.params};o[s]?o[s].push(u):o[s]=[u],r&&(r(n),t[s]?t[s].push(n.message):t[s]=[n.message])}return{errorsStructured:o,errorsHumanized:t}}(e.errors,o);return{isValid:n,errors:e.errors,errorsStructured:s.errorsStructured,errorsHumanized:s.errorsHumanized,...e}}}exports.compileSchema=function(r){return t(e.compile(r))},exports.createValidator=function(t){if(void 0===t.$id)throw new Error("Schema must have $id");return e.addSchema(t),r(t.$id)},exports.getValidator=r;
